# 6: Получение почтовых сообщений

Дата: 2025-09-14

## Статус

Принят

## Проблема

По условиям задачи мы извлекаем почтовые сообщения из почтового ящика. Нужно решить каким образом это делаем.

## Решение

Вообще просится в качестве решения ActionMailbox в Ruby on Rails. Однако, он работает с ограниченным количеством почтовых сервисов, которые для этого предоставляют специальный REST-API. А если потребуется работать с Gmail или Yandex-почтой, то ничего не выйдет.

Для получения писем есть два протокола:

* POP3 — загружает почтовые сообщения на локальное устройство
* IMAP - оперирует письмами на сервере

Так как нам возможно потребуется перезапуск обработки, лучше воспользоваться IMAP-протоколом. Непрочитанные письма - извлекаем, письма, которые ранее читали считаем уже обработанными.

## Заключение

Для доступа к почтовому ящику используем почтовый протокол IMAP
